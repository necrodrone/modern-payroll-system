# ===========================
# Application
# ===========================
spring.application.name=payroll-service
server.port=8086
spring.webflux.base-path=/api

# ===========================
# R2DBC Reactive Database (Local)
# Used by WebFlux runtime (non-blocking)
# ===========================
spring.r2dbc.url=r2dbc:postgresql://localhost:5432/payroll_db
spring.r2dbc.username=postgres
spring.r2dbc.password=1234

# ===========================
# R2DBC Reactive Database (Docker)
# Uncomment these when running inside Docker
# ===========================
#spring.r2dbc.url=r2dbc:postgresql://postgres:5432/payroll_db
#spring.r2dbc.username=payroll_user
#spring.r2dbc.password=payroll_secret

# ===========================
# Flyway Migrations (JDBC - Local)
# Flyway only works with JDBC, NOT R2DBC
# ===========================
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.url=jdbc:postgresql://localhost:5432/payroll_db
spring.flyway.user=postgres
spring.flyway.password=1234
spring.flyway.locations=classpath:db/migration
spring.flyway.validate-on-migrate=true

# ===========================
# Flyway Migrations (JDBC - Docker)
# Uncomment when running inside Docker
# ===========================
#spring.flyway.url=jdbc:postgresql://postgres:5432/payroll_db
#spring.flyway.user=payroll_user
#spring.flyway.password=payroll_secret

# ===========================
# Eureka (Service Discovery)
# ===========================
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.client.enabled=false

# ===========================
# Auth Service (JWT Public Key Endpoint)
# ===========================
auth.public-key-url=http://localhost:8080/api/auth/public-key

# ===========================
# External Services
# ===========================
service.employee.uri=http://localhost:8081/api/employees/
service.attendance.uri=http://localhost:8082/api/v1/timelogs
service.holiday.uri=http://localhost:8085/api/v1/holidays
service.tax.uri=http://localhost:8087/api/v1

# ===========================
# RabbitMQ (Optional - Uncomment if used)
# ===========================
#spring.rabbitmq.host=localhost
#spring.rabbitmq.port=5672
#spring.rabbitmq.username=guest
#spring.rabbitmq.password=guest
#rabbitmq.exchange.employee-events=employee.events.exchange
#rabbitmq.routingkey.employee-created=employee.created.routingkey
